import{i as j,S as x,f as r,o as O,h as S,j as R,s as m,k as P,l as u,U as l,m as g,n as b,g as y,q as T,u as k,r as E,v as I}from"./runtime.Jf46wuGD.js";function h(e,n=!0,s=null,f){if(typeof e=="object"&&e!=null){let t=e;if((j(t)||x in t)&&(t=M(t)),r in t){const i=t[r];if(i.t===t||i.p===t)return i.p}const o=E(t);if(o===O||o===S){const i=new Proxy(t,v);return R(t,r,{value:{s:new Map,v:m(0),a:P(t),i:n,p:i,t},writable:!0,enumerable:!1}),i}}return e}function _(e,n){if(typeof e=="object"&&e!=null&&r in e){const s=n.get(e);if(s!==void 0)return s;if(P(e)){const f=[];n.set(e,f);for(const t of e)f.push(_(t,n));return f}else{const f={},t=Reflect.ownKeys(e),o=I(e);n.set(e,f);for(const i of t)if(i!==r)if(o[i].get)R(f,i,o[i]);else{const a=e[i];f[i]=_(a,n)}return f}}return e}function M(e){return _(e,new Map)}function w(e,n=1){u(e,e.v+n)}const v={defineProperty(e,n,s){if(s.value){const f=e[r],t=f.s.get(n);t!==void 0&&u(t,h(s.value,f.i,f))}return Reflect.defineProperty(e,n,s)},deleteProperty(e,n){const s=e[r],f=s.s.get(n),t=s.a,o=delete e[n];if(t&&o){const i=s.s.get("length"),a=e.length-1;i!==void 0&&i.v!==a&&u(i,a)}return f!==void 0&&u(f,l),o&&w(s.v),o},get(e,n,s){var o;if(n===r)return Reflect.get(e,r);const f=e[r];let t=f.s.get(n);if(t===void 0&&(!(n in e)||(o=g(e,n))!=null&&o.writable)&&(t=(f.i?m:b)(h(e[n],f.i,f)),f.s.set(n,t)),t!==void 0){const i=y(t);return i===l?void 0:i}return Reflect.get(e,n,s)},getOwnPropertyDescriptor(e,n){const s=Reflect.getOwnPropertyDescriptor(e,n);if(s&&"value"in s){const t=e[r].s.get(n);t&&(s.value=y(t))}return s},has(e,n){var o;if(n===r)return!0;const s=e[r],f=Reflect.has(e,n);let t=s.s.get(n);return(t!==void 0||T!==null&&(!f||(o=g(e,n))!=null&&o.writable))&&(t===void 0&&(t=(s.i?m:b)(f?h(e[n],s.i,s):l),s.s.set(n,t)),y(t)===l)?!1:f},set(e,n,s,f){const t=e[r];let o=t.s.get(n);o===void 0&&(k(()=>f[n]),o=t.s.get(n)),o!==void 0&&u(o,h(s,t.i,t));const i=t.a,a=!(n in e);if(i&&n==="length")for(let c=s;c<e.length;c+=1){const d=t.s.get(c+"");d!==void 0&&u(d,l)}if(e[n]=s,a){if(i){const c=t.s.get("length"),d=e.length;c!==void 0&&c.v!==d&&u(c,d)}w(t.v)}return!0},ownKeys(e){const n=e[r];return y(n.v),Reflect.ownKeys(e)}};export{h as p};
