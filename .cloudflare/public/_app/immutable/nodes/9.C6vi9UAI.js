import"../chunks/disclose-version.Bg9kRutz.js";import{p as X,a as Y,t as A,u as $,g as Z,d as rr}from"../chunks/runtime.Jf46wuGD.js";import{h as er,b as ar,a as tr}from"../chunks/render.Bv0yYwOM.js";import{i as E,s as sr}from"../chunks/props.P1SnnUBI.js";import{c as x,a as e,$ as or,t as o,f as a,s as r,b as D}from"../chunks/template.Cy1XqOF_.js";import{C as nr,b as dr,c as ir,d as lr,B as mr,a as _r,e as fr,r as ur,I as cr}from"../chunks/input.C_q-rZkj.js";import{u as vr,s as g,m as O}from"../chunks/store.4n1elMwH.js";import{P as pr}from"../chunks/public.BX7U8bBM.js";import{C as $r}from"../chunks/card-description.pKY-G_7T.js";import"../chunks/entry.CFRP--2r.js";import{s as gr,z as hr,v as Cr,F as br,C as Pr,b as yr,c as Fr,L as xr}from"../chunks/loader-circle.BAKy0nBl.js";import{F as Dr}from"../chunks/form-errors.B7RkYRzj.js";var wr=o("2-Step Verification",1),Br=o("<p>We sent a verification code to your email <strong> </strong>.</p> <p>Enter the code from the email in the field below.</p>",1),Lr=o("<!> <!>",1),zr=o("OTP Code",1),Ir=o("<!> <!>",1),Sr=o("<!> <!>",1),Tr=o("Verify<!>",1),Vr=o(`<form method="POST" action="?/verify" class="grid gap-4"><input type="text" name="email" hidden> <!> <!> <!></form> <div class="mt-4 text-center text-sm">Didn't receive an email? <a href="/sign-in" class="underline">Resend</a></div>`,1),kr=o("<!> <!>",1);function Qr(R,w){X(w,!0);const _={};vr(_);const n=()=>g(h,"$formData",_),B=()=>g(U,"$errors",_),H=()=>g(j,"$submitting",_),M=()=>g(W,"$delayed",_),L=gr(w.data.form,{validators:hr(Cr)}),{form:h,enhance:N,errors:U,delayed:W,submitting:j}=L;var z=x();er(I=>{A(()=>or.title=`2-Step Verification | ${ar(pr)}`)});var q=a(z);nr(q,{class:"mx-auto w-full max-w-sm",children:(I,Ar)=>{var S=kr(),T=a(S);dr(T,{children:(C,J)=>{var f=Lr(),u=a(f);ir(u,{class:"text-xl",children:(i,v)=>{var l=wr();e(i,l)},$$slots:{default:!0}});var c=r(r(u,!0));$r(c,{class:"space-y-1",children:(i,v)=>{var l=Br(),t=a(l),b=r(D(t)),d=D(b);A(()=>tr(d,n().email)),e(i,l)},$$slots:{default:!0}}),e(C,f)},$$slots:{default:!0}});var G=r(r(T,!0));lr(G,{children:(C,J)=>{var f=Vr(),u=a(f),c=D(u);ur(c);var i=r(r(c,!0));br(i,{form:L,name:"code",children:(t,b)=>{var d=Sr(),p=a(d);Pr(p,{children:(s,m)=>{const y=rr(()=>m.attrs);var V=Ir(),k=a(V);yr(k,{children:(F,Er)=>{var Q=zr();e(F,Q)},$$slots:{default:!0}});var K=r(r(k,!0));cr(K,sr(()=>Z(y),{get value(){return n().code},set value(F){O(h,$(n).code=F,$(n))}})),e(s,V)},$$slots:{default:!0}});var P=r(r(p,!0));E(P,()=>{var s;return(s=B().code)==null?void 0:s.length},s=>{var m=x(),y=a(m);Fr(y,{}),e(s,m)}),e(t,d)},$$slots:{default:!0}});var v=r(r(i,!0));Dr(v,{get errors(){return B()._errors}});var l=r(r(v,!0));mr(l,{type:"submit",class:"w-full",get disabled(){return H()},children:(t,b)=>{var d=Tr(),p=r(a(d,!0));E(p,M,P=>{var s=x(),m=a(s);xr(m,{class:"ml-2 size-4 animate-spin"}),e(P,s)}),e(t,d)},$$slots:{default:!0}}),_r(u,t=>N(t)),fr(c,()=>n().email,t=>O(h,$(n).email=t,$(n))),e(C,f)},$$slots:{default:!0}}),e(I,S)},$$slots:{default:!0}}),e(R,z),Y()}export{Qr as component};
